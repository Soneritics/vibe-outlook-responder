"use strict";(self.webpackChunkvibe_outlook_responder=self.webpackChunkvibe_outlook_responder||[]).push([[593],{1593(e,t,n){n.a(e,async(e,r)=>{try{n.d(t,{GenerateScreen:()=>C});var o=n(4848),a=n(6540),i=n(4867),s=n(6117),l=n(8610),c=n(6922),p=n(6760),d=n(813),g=n(9437),m=n(4541),u=n(2558),x=n(378),h=n(272),y=n(8005),f=n(269),j=n(3644),L=n(444),N=n(9059),S=n(6394),b=e([L]),v=b.then?(await b)():b;L=v[0];const k=(0,m.n)({container:{display:"flex",flexDirection:"column",height:"100%",...i.Pt.padding(u.L.spacingVerticalL,u.L.spacingHorizontalL)},header:{marginBottom:u.L.spacingVerticalL},title:{fontSize:u.L.fontSizeBase500,fontWeight:u.L.fontWeightSemibold,color:u.L.colorNeutralForeground1},subtitle:{fontSize:u.L.fontSizeBase300,color:u.L.colorNeutralForeground3,marginTop:u.L.spacingVerticalXS},promptList:{display:"flex",flexDirection:"column",...i.Pt.gap(u.L.spacingVerticalS),flexGrow:1,overflowY:"auto"},promptItem:{display:"flex",alignItems:"center",justifyContent:"space-between",...i.Pt.padding(u.L.spacingVerticalM,u.L.spacingHorizontalM),...i.Pt.borderRadius(u.L.borderRadiusMedium),backgroundColor:u.L.colorNeutralBackground2,cursor:"pointer",":hover":{backgroundColor:u.L.colorNeutralBackground2Hover}},promptTitle:{fontSize:u.L.fontSizeBase300,fontWeight:u.L.fontWeightSemibold,color:u.L.colorNeutralForeground1},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1,textAlign:"center",...i.Pt.gap(u.L.spacingVerticalM)},emptyText:{color:u.L.colorNeutralForeground3},footer:{marginTop:u.L.spacingVerticalL,display:"flex",...i.Pt.gap(u.L.spacingHorizontalM)},loading:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}}),C=({onOpenSettings:e,onAddPrompt:t})=>{const n=k(),{prompts:r,loading:i}=(0,f.F)(),{settings:m,isLoading:u}=(0,j.t)(),{isGenerating:b,currentStep:v,error:C,generate:w,cancel:P,clearError:I}=(0,L.A)(),[z,A]=(0,a.useState)(null),V=async e=>{m?.apiKey&&(A(e),await w(e.content,m.apiKey,m.selectedModel||"gpt-4"))};return i||u?(0,o.jsx)("div",{className:n.loading,children:(0,o.jsx)(s.y,{label:"Loading..."})}):m?.apiKey?(0,o.jsxs)("div",{className:n.container,children:[(0,o.jsxs)("div",{className:n.header,children:[(0,o.jsx)(g.E,{className:n.title,children:"AI Reply"}),(0,o.jsx)(g.E,{className:n.subtitle,children:"Select a prompt to generate an AI-powered response"})]}),C&&(0,o.jsx)(S.F,{message:C,onRetry:async()=>{z&&m?.apiKey&&(I(),await w(z.content,m.apiKey,m.selectedModel||"gpt-4"))},onDismiss:I}),0===r.length?(0,o.jsxs)("div",{className:n.emptyState,children:[(0,o.jsx)(g.E,{className:n.emptyText,children:"No prompts available. Create a prompt to get started."}),t&&(0,o.jsx)(d.$,{appearance:"primary",icon:(0,o.jsx)(h.wYX,{}),onClick:t,children:"Create Prompt"})]}):(0,o.jsx)("div",{className:n.promptList,children:r.map(e=>(0,o.jsxs)("div",{className:n.promptItem,onClick:()=>V(e),role:"button",tabIndex:0,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||V(e)},children:[(0,o.jsx)(g.E,{className:n.promptTitle,children:e.title}),(0,o.jsx)(y.D6j,{})]},e.id))}),r.length>0&&t&&(0,o.jsx)("div",{className:n.footer,children:(0,o.jsx)(d.$,{appearance:"secondary",icon:(0,o.jsx)(h.wYX,{}),onClick:t,children:"Add Prompt"})}),(0,o.jsx)(N.v,{isOpen:b,currentStep:v,onCancel:P,error:C||void 0})]}):(0,o.jsxs)("div",{className:n.container,children:[(0,o.jsx)(l.n,{intent:"warning",children:(0,o.jsxs)(c.R,{children:[(0,o.jsx)(p.V,{children:"API Key Required"}),"Please configure your ChatGPT API key in settings before generating responses."]})}),e&&(0,o.jsx)("div",{className:n.footer,children:(0,o.jsx)(d.$,{appearance:"primary",icon:(0,o.jsx)(x.mJc,{}),onClick:e,children:"Open Settings"})})]})};r()}catch(e){r(e)}})}}]);